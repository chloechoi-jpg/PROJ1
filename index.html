<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Own Adventure</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap">
</head>
<body class="landing-page">
    <div class="landing-container">
        <img src="images/FINALTITLECARD.png" alt="Choose Your Own Adventure" class="landing-title" />
        <!-- Infinity (figure 8) animation of anchor points -->
        <div class="infinity-nav-wrapper">
            <div class="infinity-nav"></div>
        </div>
        <div style="text-align:center; margin-top: 40px; margin-bottom: 20px;">
            <button class="start-btn" onclick="location.href='pages/page1.html'">START</button>
        </div>
    </div>

        <script>
        // Map of page links (story paths)
        const pages = Array.from({length: 30}, (_, i) => `pages/page${i+1}.html`);
        const infinityNav = document.querySelector('.infinity-nav');
        const width = 700;
        const height = 350;
        const cx = width / 2;
        const cy = height / 2;
        const a = 260; // horizontal scale (larger)
        const b = 120;  // vertical scale (larger)
        const anchors = [];
        // Create anchor points
        pages.forEach((page, idx) => {
            const aEl = document.createElement('a');
            aEl.href = page;
            aEl.className = 'infinity-anchor';
            aEl.style.position = 'absolute';
            aEl.style.width = 'auto';
            aEl.style.height = 'auto';
            aEl.style.display = 'block';
            aEl.style.background = 'transparent';
            aEl.style.boxShadow = 'none';
            aEl.style.fontWeight = 'bold';
            aEl.style.fontFamily = 'Roboto Mono, monospace';
            aEl.style.fontSize = '0.85em';
            aEl.style.color = '#222';
            aEl.style.textAlign = 'center';
            aEl.style.textDecoration = 'none';
            aEl.style.transition = 'color 0.2s';
            aEl.textContent = idx + 1;
            infinityNav.appendChild(aEl);
            anchors.push(aEl);
        });

        // Animate along infinity (lemniscate) path
        let t = 0;
        function animateInfinity() {
            t += 0.003;
            anchors.forEach((aEl, idx) => {
                // Parametric equation for lemniscate of Gerono (figure 8)
                const theta = (2 * Math.PI * idx) / anchors.length + t;
                const x = cx + a * Math.sin(theta);
                const y = cy + b * Math.sin(2 * theta) / 2;
                aEl.style.left = `${x - 10}px`;
                aEl.style.top = `${y - 10}px`;
                aEl.style.color = idx === 0 ? '#ffe082' : '#222';
            });
            requestAnimationFrame(animateInfinity);
        }
        animateInfinity();
        </script>
        <style>
        .infinity-nav-wrapper {
            position: relative;
            width: 700px;
            height: 350px;
            margin: 0 auto 32px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .infinity-nav {
            position: absolute;
            left: 0; top: 0;
            width: 100%;
            height: 100%;
        }
        .infinity-anchor {
            position: absolute;
            width: auto;
            height: auto;
            display: block;
            background: transparent;
            box-shadow: none;
            font-weight: bold;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.85em;
            color: #222;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            border: none;
            padding: 0;
        }
        .infinity-anchor:hover {
            color: #ffe082;
        }
        </style>
</body>
</html>
